{% extends 'tsj_core/base_page.html' %}
{% load thinkspace_pages tsj_builder_tags tsj_ui_tags %}
{% load render_mt_bundle from tsj_ui_tags %}

{% block css %}{{ block.super }}
    {% render_mt_bundle 'gemstone' 'css' 'CORE' %}
{% endblock css %}

{% block js %}{{ block.super }}
    <script type="text/javascript">
        // Setup some variables that we need
        DIAMOND_LIST_URL = '{% page 'gemstone-list' %}'
        CLARITIES = [
            {% for clarity in clarities %}['{{ clarity.order }}', '{{ clarity.abbr }}']{% if not forloop.last %},
            {% endif %}{% endfor %}
        ];
        GRADINGS = [
            {% for grading in gradings %}['{{ grading.order }}', '{{ grading.name }}']{% if not forloop.last %},
            {% endif %}{% endfor %}
        ];
        CARAT_WEIGHTS = [{{ carat_weights.min }}, {{ carat_weights.max }}];
        PRICES = [{% if prices.min %}{{ prices.min }}{% else %}0{% endif %}, {% if prices.max %}{{ prices.max }}{% else %}0{% endif %}];
    </script>
    {% render_mt_bundle 'gemstone' 'js' 'CORE' %}
    {% render_mt_bundle 'tsjbuilder' 'js' 'CORE' %}
{% endblock js %}

{% block bodyclass %}{{ block.super }} gemstone-list{% endblock %}

{% block breadcrumb-trail-last %}
<li class="nav-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a href="{{ tspages_page.url|absolute_uri:request }}" itemscope itemtype="http://schema.org/Thing" itemprop="item">
        <span itemprop="name"> Diamonds</span>
        <meta itemprop="position" content="2" />
    </a>
</li>
{% endblock breadcrumb-trail-last %}

{% block content %}
    <div class="row hidden-print">
        <div class="column col-xs-12">
            {% widget_dock above_content %}
        </div>
    </div>
    <div class="row row-ringbuilder hidden-print">
        <div class="column col-xs-12">
            {% ring_builder_steps 'diamond' %}
        </div>
    </div>
    <div class="section-filters">
        {% include "tsj_gemstone/includes/filterset_site.html" %}
    </div>
    <div class="section-content">
        <div class="section-gemstones">
            {% include "tsj_gemstone/includes/gemstones.html" %}
        </div>
        <div class="section-pagination bottom">
            {% include "tsj_gemstone/includes/pagination.html" %}
        </div>
    </div>
    <div class="row hidden-print">
        <div class="column col-xs-12">
            {% widget_dock below_content %}
        </div>
    </div>
{% endblock content %}

{% comment %}
<div class="column column-filters filters-{{tspages_page.get_options.filter_position|lower }}{% if tspages_page.get_options.filter_position == 'Left' %} col-xl-3 col-lg-4{% endif %} col-xs-12 gemstone-filters">
                            {% for cut in cuts %}
                                <li class="nav-item {{ cut.name|slugify }}">
                                    <input id="{{ cut.name|slugify }}" type="checkbox" name="cut" class="conceal" value="{{ cut.abbr }}" {% if cut.abbr in initial_cuts %}checked="checked"{% endif %} />
                                    <label for="{{ cut.name|slugify }}" class="form-control-label" data-toggle="tooltip" data-placement="bottom" title="{{ cut.name }}">
                                        <div class="svg svg-gemstone {{ cut.name|lower }} hidden-xs-down" alt="{{ cut.name }}" >
                                            {% with "tsj_gemstone/images/outlines/"|add:cut.name|lower|add:".svg" as svginline %}
                                            {% include svginline %}
                                            {% endwith %}
                                        </div>
                                        <span class="text">{{ cut.name }}</span>
                                    </label>
                                </li>
                            {% endfor %}
        <div class="column column-results column-results-table{% if tspages_page.get_options.filter_position == 'Left' %} col-xl-6 col-lg-8{% else %} col-xl-9{% endif %} col-xs-12 gemstone-results">
            {% include "tsj_gemstone/includes/list_partial.html" %}
        </div>
        <div class="column column-results column-results-detail{% if tspages_page.get_options.filter_position == 'Left' %} col-xl-3 col-xs-12{% else %} col-xl-3{% endif %} hidden-lg-down">
            {% include "tsj_gemstone/includes/list_partial_details.html" %}
        </div>
{% endcomment %}
